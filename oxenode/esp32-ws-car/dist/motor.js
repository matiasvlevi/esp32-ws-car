var r={d:(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(r,e)=>Object.prototype.hasOwnProperty.call(r,e)},e={};r.d(e,{VG:()=>s,xz:()=>f,ZP:()=>d,Tt:()=>p});const t=window.OxenodeCore,n=window.OxenodeUi,o=window.jsxRuntimeExports;function a(r){return function(r){if(Array.isArray(r))return c(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||l(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(r,e,t,n,o,a,i){try{var u=r[a](i),l=u.value}catch(r){return void t(r)}u.done?e(l):Promise.resolve(l).then(n,o)}function u(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,a,i,u=[],l=!0,c=!1;try{if(a=(t=t.call(r)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=a.call(t)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(r){c=!0,o=r}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(r,e)||l(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(r,e){if(r){if("string"==typeof r)return c(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(r,e):void 0}}function c(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var s="Motor";function d(r){var e=r.node,a=u((0,t.useNodeState)(e.id,"mode",1),2),i=a[0],l=a[1],c=u((0,t.useNodeState)(e.id,"speed",50),2),s=c[0],d=c[1];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h3",{children:"Motor"}),(0,o.jsx)("span",{className:"xsmall",children:"Control motors"}),(0,o.jsxs)(n.Select,{value:i,onChange:function(r){return l(r.target.value)},children:[(0,o.jsx)("option",{value:"FORWARD",children:"Forward"}),(0,o.jsx)("option",{value:"LEFT",children:"Turn Left"}),(0,o.jsx)("option",{value:"RIGHT",children:"Turn Right"}),(0,o.jsx)("option",{value:"REVERSE",children:"Reverse"}),(0,o.jsx)("option",{value:"BRAKE",children:"Brake"})]}),(0,o.jsx)(n.NumberInput,{value:s,onChange:function(r){return d(r.target.value)}}),(0,o.jsx)(n.ErrorMessage,{nodeId:e.id})]})}function f(r){return y.apply(this,arguments)}function y(){var r;return r=function*(r){var e,t,n=r.node,o=r.controller,i=r.inputs.socket,u=r.state,l=u.mode,c=u.speed;switch(l){case"FORWARD":e=new Uint8Array([c]),t=new Uint8Array([c]);break;case"LEFT":e=new Uint8Array([c]),t=new Uint8Array([c/5]);break;case"RIGHT":e=new Uint8Array([c/5]),t=new Uint8Array([c]);break;case"REVERSE":e=new Uint8Array([-c]),t=new Uint8Array([-c]);break;case"BRAKE":e=new Uint8Array([0]),t=new Uint8Array([0])}var s=new Uint8Array([192].concat(a(e),a(t)));if(console.log(s),!i)return n.State.err="Socket is not connected...",o.update(n),o.trigger(0);i.send(s);var d=yield new Promise((function(r){i.onmessage=function(e){r(e)}}));return console.log(d),o.trigger(0)},y=function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function u(r){i(a,n,o,u,l,"next",r)}function l(r){i(a,n,o,u,l,"throw",r)}u(void 0)}))},y.apply(this,arguments)}var p=[t.port.input().type("trigger"),t.port.input().type("data").label("socket"),t.port.output().type("trigger")],v=e.VG,h=e.xz,m=e.ZP,w=e.Tt;export{v as Name,h as Trigger,m as default,w as ports};